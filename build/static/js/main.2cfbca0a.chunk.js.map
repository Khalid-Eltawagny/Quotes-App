{"version":3,"sources":["components/layout/MainNavigation.module.css","components/UI/LoadingSpinner.js","components/quotes/QuoteList.module.css","hooks/useHttp.js","lib/api.js","components/quotes/QuoteItem.module.css","components/UI/LoadingSpinner.module.css","components/quotes/NoQuotesFound.module.css","components/layout/Layout.module.css","components/quotes/QuoteItem.js","components/quotes/QuoteList.js","components/quotes/NoQuotesFound.js","pages/AllQuotes.js","components/layout/MainNavigation.js","components/layout/Layout.js","App.js","index.js"],"names":["module","exports","LoadingSpinner","className","classes","spinner","httpReducer","state","action","type","data","error","useHttp","requestFunction","startWithPending","useReducer","httpState","dispatch","sendRequest","useCallback","a","requestData","undefined","console","log","FIREBASE_DOMAIN","getAllQuotes","fetch","response","json","ok","Error","message","key","loadedQuotes","quote","id","push","getSingleQuote","retQoute","addQuote","quoteData","method","body","JSON","stringify","headers","addComment","commentData","comment","text","quoteId","commentId","name","getAllComment","loadedComments","QuoteItem","props","routeMatch","useRouteMatch","item","author","to","url","QuoteList","quotes","ascending","location","useLocation","history","useHistory","isAscending","URLSearchParams","search","get","list","sort","quoteA","quoteB","map","sorting","onClick","NoQuotesFound","noquotes","AllQuotes","status","useEffect","length","MainNavigation","header","logo","nav","activeClassName","active","Layout","main","children","AddNewQuote","React","lazy","QuoteDetail","NotFound","App","fallback","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2cfbca0a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__pcWBd\",\"logo\":\"MainNavigation_logo__3mTft\",\"nav\":\"MainNavigation_nav__2KJfX\",\"active\":\"MainNavigation_active__oN3Ka\"};","import classes from './LoadingSpinner.module.css' ; \nconst LoadingSpinner = () => {\n    return (<div className = {classes.spinner}></div>);\n}\nexport default LoadingSpinner ; ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"QuoteList_list__3pzcl\",\"sorting\":\"QuoteList_sorting__rL6H1\"};","import { useReducer,useCallback } from \"react\";\nfunction httpReducer(state, action) {\n  if (action.type === \"SEND\") {\n    return {\n      state: \"pending\",\n      data: null,\n      error: null,\n    };\n  } else if (action.type === \"SUCCESS\") {\n    return {\n      state: \"completed\",\n      data: action.data,\n      error: null,\n    };\n  } else if (action.type === \"ERROR\") {\n    return {\n      state: \"completed\",\n      data: null,\n      error: action.error,\n    };\n  }\n  return state;\n}\nconst useHttp = (requestFunction, startWithPending = false) => {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    state: startWithPending ? \"pending\" : null,\n    data: null,\n    error: null,\n  });\n  const sendRequest = useCallback(async function (requestData = undefined) {\n    dispatch({ type: \"SEND\" });\n    try {\n      const data = await requestFunction(requestData);\n      dispatch({ type: \"SUCCESS\", data:data });\n      console.log(data) ;\n    } catch (err) {\n      dispatch({ type: \"ERROR\", error: err });\n    }\n  },[requestFunction]);\n  console.log(httpState);\n  return {\n    sendRequest,\n    ...httpState,\n  };\n};\nexport default useHttp;\n","const FIREBASE_DOMAIN = \"https://quotes--app-default-rtdb.firebaseio.com\";\n\nexport async function getAllQuotes() {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Something went wrong\");\n  }\n\n  const loadedQuotes = [];\n  for (const key in data) {\n    const quote = {\n      id: key,\n      ...data[key],\n    };\n    loadedQuotes.push(quote);\n  } \n  return loadedQuotes;\n}\n\nexport async function getSingleQuote(id) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes/${id}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Couldn't get this quote\");\n  }\n\n  const retQoute = {\n    id: id,\n    ...data,\n  };\n\n  return retQoute;\n}\n\nexport async function addQuote(quoteData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes.json`, {\n    method: \"POST\",\n    body: JSON.stringify(quoteData),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n  const data = response.json();\n  if (!response.ok) {\n    throw new Error(data.message || \"Couldn't add this quote\");\n  }\n  return null;\n}\n\nexport async function addComment(commentData) {\n  const comment = {text:commentData.text} ; \n  console.log(commentData) ; \n  const response = await fetch(\n    `${FIREBASE_DOMAIN}/comments/${commentData.quoteId}.json`,\n    {\n      method: \"POST\",\n      body: JSON.stringify(comment),\n      headers: { \"Content-Type\": \"application/json\" },\n    }\n  );\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.message || \"Couldn't add this comment\");\n  }\n\n  return { commentId: data.name };\n}\n\nexport async function getAllComment(quoteId) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/comments/${quoteId}.json`);\n  const data = await response.json();\n  console.log(data) ; \n  if (!response.ok) {\n    throw new Error(data.message || \"Couldn't get comments for this quote!\");\n  }\n\n  const loadedComments = [];\n  for (const key in data) {\n    const comment = { id: key, ...data[key] };\n    loadedComments.push(comment);\n  }\n  console.log(loadedComments) ;  \n  return loadedComments;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"QuoteItem_item__2dOvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__2Kyqv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noquotes\":\"NoQuotesFound_noquotes__3DIYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__auk_r\"};","import classes from \"./QuoteItem.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { useRouteMatch } from \"react-router\";\nconst QuoteItem = (props) => {\n  const routeMatch = useRouteMatch() ;\n  return (\n    <li className={classes.item}>\n      <figure>\n        <blockquote>\n          <p>{props.text}</p>\n        </blockquote>\n        <figcaption>{props.author}</figcaption>\n      </figure>\n      <Link className=\"btn\" to = {`${routeMatch.url}/${props.id}`}>View Fullscreen</Link>\n    </li>\n  );\n};\nexport default QuoteItem;\n","import classes from \"./QuoteList.module.css\";\nimport QuoteItem from \"./QuoteItem\";\nimport { Fragment } from \"react\";\nimport { useLocation, useHistory } from \"react-router\";\n\nconst sortQuotes = (quotes, ascending) => {\n  return quotes.sort((quoteA, quoteB) => {\n    if (ascending) {\n      return quoteA.id > quoteB.id ? 1 : -1;\n    } else {\n      return quoteA.id < quoteB.id ? 1 : -1;\n    }\n  });\n};\n\nconst QuoteList = (props) => {\n  console.log(props) ; \n  const location = useLocation();\n  const history = useHistory();\n  const queryParams = new URLSearchParams(location.search);\n  const isAscending = queryParams.get(\"sort\") === \"asc\";\n  const changeSortHandler = () => {\n    history.push(\"/quotes?sort=\" + (isAscending ? \"desc\" : \"asc\"));\n  };\n  const sortedQuotes = sortQuotes(props.quotes, isAscending);\n  const list = sortedQuotes.map((quote) => {\n    return (\n      <QuoteItem\n        text={quote.text}\n        author={quote.author}\n        id={quote.id}\n        key={quote.id}\n      />\n    );\n  });\n\n  return (\n    <Fragment>\n      <div className={classes.sorting}>\n        <button onClick={changeSortHandler}>\n          Sort {isAscending ? \"Descending\" : \"Ascending\"}\n        </button>\n      </div>\n      <ul className={classes.list}>{list}</ul>\n    </Fragment>\n  );\n};\nexport default QuoteList;\n","import classes from './NoQuotesFound.module.css';\nimport { Link } from 'react-router-dom';\nconst NoQuotesFound = () => {\n  return (\n    <div className={classes.noquotes}>\n      <p>No quotes found!</p>\n      <Link to = '/newQuote' className = 'btn'>\n        Add a quote\n      </Link>\n    </div>\n  );\n};\n\nexport default NoQuotesFound;\n","import QuoteList from \"../components/quotes/QuoteList\";\nimport useHttp from \"../hooks/useHttp\";\nimport { getAllQuotes } from \"../lib/api\";\nimport { useEffect } from \"react\";\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\nimport NoQuotesFound from \"../components/quotes/NoQuotesFound\" ; \nconst AllQuotes = () => {\n  const {\n    sendRequest,\n    state:status,\n    data:loadedQuotes,\n    error,\n  } = useHttp(getAllQuotes,true);\n\n  useEffect(() => {\n    sendRequest();\n  }, [sendRequest]);\n  \n  if (status === \"pending\") {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (error) {\n    return <p className=\"centered focused\">{error}</p>;\n  }\n  if (status === 'completed' && (!loadedQuotes || loadedQuotes.length === 0)){\n    return <NoQuotesFound />\n  }\n  else return <QuoteList quotes={loadedQuotes} /> ;\n};\nexport default AllQuotes;\n","import classes from \"./MainNavigation.module.css\";\nimport { NavLink } from \"react-router-dom\";\nconst MainNavigation = () => {\n  return (\n    <header className={classes.header}>\n      <div className={classes.logo}> Great Quotes</div>\n      <nav className={classes.nav}>\n        <ul>\n          <li>\n            <NavLink to=\"/quotes\" activeClassName = {classes.active}>All Quotes</NavLink>\n          </li>\n          <li>\n            \n          <NavLink to=\"/newQuote\" activeClassName = {classes.active}>Add a quote</NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainNavigation;\n","import { Fragment } from \"react\";\nimport classes from \"./Layout.module.css\";\nimport MainNavigation from \"./MainNavigation\";\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainNavigation />\n      <main className={classes.main}>{props.children} </main>\n    </Fragment>\n  );\n};\nexport default Layout;\n","import { Route, Switch } from \"react-router\";\nimport AllQuotes from \"./pages/AllQuotes\";\nimport Layout from \"./components/layout/Layout\";\nimport { Redirect } from \"react-router\";\nimport { Suspense } from \"react\";\nimport React from \"react\";\nimport LoadingSpinner from \"./components/UI/LoadingSpinner\";\n\nconst AddNewQuote = React.lazy(() => {\n  return import(\"./pages/AddNewQuote\");\n});\n\nconst QuoteDetail = React.lazy(() => {\n  return import(\"./pages/QuoteDetail\");\n});\n\nconst NotFound = React.lazy(() => {\n  return import(\"./pages/NotFound\");\n});\n\nfunction App() {\n  return (\n    <Layout>\n      <Suspense\n        fallback={\n          <div className=\"centered\">\n            <LoadingSpinner />\n          </div>\n        }\n      >\n        <Switch>\n          <Route path=\"/\" exact>\n            <Redirect to=\"/quotes\" />\n          </Route>\n          <Route path=\"/quotes\" exact>\n            <AllQuotes />\n          </Route>\n          <Route path=\"/quotes/:id\">\n            <QuoteDetail />\n          </Route>\n          <Route path=\"/newQuote\">\n            <AddNewQuote />\n          </Route>\n          <Route path=\"*\">\n            <NotFound />\n          </Route>\n        </Switch>\n      </Suspense>\n    </Layout>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}